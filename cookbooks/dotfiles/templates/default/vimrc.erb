" Needed on some linux distros.
" see http://www.adamlowe.me/2009/12/vim-destroys-all-other-rails-editors.html
" Start pathogen to manage bundles
filetype off
call pathogen#helptags()
call pathogen#runtime_append_all_bundles()

" Application settings
" ====================
set nocompatible
let mapleader = ","
set nobackup
set wildmenu
set wildmode=list:longest
set textwidth=79
set incsearch
set showmatch
set smarttab
set shiftwidth=2
set laststatus=2
set autoindent
set expandtab
set backspace=start,indent,eol
set number
set hlsearch
set mouse=a
filetype plugin indent on
runtime! macros/matchit.vim

" Visual things
" =============
set ruler
set scrolloff=5
set tabstop=2
set softtabstop=2   " Tabs are 2 spaces wide
set autoindent

" Key mappings
" ============
map <leader>d :execute 'NERDTreeToggle ' .getcwd()<CR>
map <leader>j :TlistToggle<CR>


" File type tweaks
" ================
augroup myfiletypes
  " Clear old autocmds in group
  autocmd!
  " autoindent with two spaces, always expand tabs
  autocmd FileType ruby,eruby,yaml set ai sw=2 sts=2 et
augroup END
autocmd BufNewFile,BufRead COMMIT_EDITMSG set filetype=gitcommit
au BufNewFile,BufRead COMMIT_EDITMSG setlocal textwidth=75 fileencoding=utf-8 encoding=utf-8 filetype=gitcommit
au BufNewFile,BufRead *.mxml set filetype=mxml
au BufNewFile,BufRead *.as set filetype=actionscript
autocmd BufNewFile,BufRead,BufEnter Gemfile,Rakefile,Capfile,Vagrantfile set filetype=ruby
autocmd FocusLost * :wa
autocmd FileType make   set noexpandtab
let g:fuzzy_ignore = "*.log"
let g:fuzzy_matching_limit = 70
set go-=T

syntax on

if &term == 'xterm-256color'
  set t_Co=256
  set background=light
  colorscheme solarized 
endif
